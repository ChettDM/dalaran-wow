**Dalaran WoW Scripting Features**

-- ================================================================================================================
-- ================================================================================================================
Waypoint_Scripts Map_Scripts

SCRIPT_COMMAND_TALK_GROUPID - soucre = Creature, datalong = Textgroupid

-- ================================================================================================================
-- ================================================================================================================

Creature Table

`walkmode`

walkmode = 0 Creature will walk if it uses randommovement

walkmode = 1 Creature will run if it uses randommovement

Example: https://github.com/dalaranwow/dalaran-wow/issues/4443


`saiscriptflag`

saiscriptflag = 0 Creature SAI -GUID Script will override the Creature SAI Entry Script

saiscriptflag = 1 Creature SAI -GUID Script will work together with the Creature SAI Entry Script

Note: Always use the -GUID script for individual Out-Of-Combat Events or Path Events. 

The Entry script should mainly be used for Quest-Start/Quest-End Events or Combat Events

Example: https://github.com/dalaranwow/dalaran-wow/issues/4303

-- ================================================================================================================
-- ================================================================================================================

SAI SCRIPTING


DALARAN WoW SAI ACTIONS


ACTION-ID     ||  ACTIONNAME                              || SAI SCRIPTING COMMENT          || ACTIONPARAM-1      ||ACTIONPARAM-2            ||ACTIONPARAM-3       ||ACTIONPARAM-4 ||COMMENT
----------------------------------------------------------||-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
130           ||  SMART_ACTION_MOVE_TO_POS_TARGET         || Move Traget to Position        || pointid            ||                         ||                    ||              || Use the targetparams for the affected creature. Use x,y,z,o for the Point the affected creature should walk to
----------------------------------------------------------||-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
132           ||  SMART_ACTION_EXIT_VEHICLE               || Exit Vehicle                   ||                    ||                         ||                    ||              ||
----------------------------------------------------------||-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
133           ||  SMART_ACTION_SET_UNIT_MOVEMENT_FLAGS    || Set Unit Movement Flag         || flag               ||                         ||                    ||              ||
----------------------------------------------------------||-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
134           ||  SMART_ACTION_SET_COMBAT_DISTANCE        || Set Combat Distance            || combatDistance     ||                         ||                    ||              ||
----------------------------------------------------------||-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
136           ||  SMART_ACTION_SET_SIGHT_DIST             || Set Sight Distance             || sightDistance      ||                         ||                    ||              ||
----------------------------------------------------------||-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
137           ||  SMART_ACTION_FLEE                       || Move Flee                      || fleeTime           ||                         ||                    ||              ||
----------------------------------------------------------||-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
138           ||  SMART_ACTION_ADD_THREAT                 || Add Threat                     || +threat            || -threat                 ||                    ||              ||
----------------------------------------------------------||-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
140           ||  SMART_ACTION_TRIGGER_RANDOM_TIMED_EVENT || Random Trigger Timed Event     || id min range       || id max range            ||                    ||              ||
----------------------------------------------------------||-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
142           ||  SMART_ACTION_ADD_IMMUNITY               || Add Immunity                   || type               || id                      || value              ||              ||
----------------------------------------------------------||-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
143           ||  SMART_ACTION_REMOVE_IMMUNITY            || Remove Immunity                || type               || id                      || value              ||              ||
----------------------------------------------------------||-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
144           ||  SMART_ACTION_FALL                       || Move Fall                      ||                    ||                         ||                    ||              ||
----------------------------------------------------------||-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
146           ||  SMART_ACTION_REMOVE_ALL_GAMEOBJECTS     || Remove all Gameobjects         ||                    ||                         ||                    ||              ||
----------------------------------------------------------||-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
147           ||  SMART_ACTION_STOP_MOTION                || Movement Expired               || stopMoving         || movementExpired         ||                    ||              || movementExpired removes all movement generators 
----------------------------------------------------------||-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
149           ||  SMART_ACTION_ZONE_UNDER_ATTACK          || Set Zone Under Attack          ||                    ||                         ||                    ||              || 
----------------------------------------------------------||-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
150           ||  SMART_ACTION_LOAD_GRID                  || Load Grid X Y                  ||                    ||                         ||                    ||              || Uses X and Y data
----------------------------------------------------------||-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
200           ||  SMART_ACTION_SET_RESPAWN_TIME           || Set Respawntime seconds        || timer              ||                         ||                    ||              || 
----------------------------------------------------------||-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
201           ||  SMART_ACTION_MOVE_HOME_POS              || Move to Home Position          || HomepointId        || HomedisablePathfinding  ||                    ||              || 
----------------------------------------------------------||-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
202           ||  SMART_ACTION_REMOVE_EVADE               || Remove Evade Mode              ||                    ||                         ||                    ||              || 
----------------------------------------------------------||-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
204           ||  SMART_ACTION_SET_HEALTH                 || Set Health value               || HealthMode         || value                   ||                    ||              || 
----------------------------------------------------------||-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
205           ||  SMART_ACTION_CHECK_DUPLICATE            || Check duplicate entry          || entry              ||                         ||                    ||              || If there is another creature (entry) in 1000 yards range, the creature will despawn
----------------------------------------------------------||-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
206           ||  SMART_ACTION_SET_INHABIT_TYPE           || Set inhabittype value          || ihabittype         ||                         ||                    ||              ||        
----------------------------------------------------------||-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
207           ||  SMART_ACTION_CHECK_HOME_DIST            || Check Home Distance            || range              ||                         ||                    ||              || If the distance to the homeposition is bigger than value (range) the creature will evade
----------------------------------------------------------||-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
208           ||  SMART_ACTION_SET_SPEED_RATE             || Set Speed Rate|| speedwalk     || speedrun           ||                         ||                    ||              || speedwalk and speedrun will only be updated if the value is bigger than 0
----------------------------------------------------------||-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
209           ||  SMART_ACTION_LOAD_WP_PATH               || Load Waypoint Path             || pathid             || addonpath               ||  repeat            ||              || If addonpath then it will use the result of: spawnid * 10. If repeat is 1 then it will repeat the path always
----------------------------------------------------------||-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
210           ||  SMART_ACTION_STORE_CURRENT_WP_ID        || Store current Waypoint ID      ||                    ||                         ||                    ||              || Stores the current WP ID 
----------------------------------------------------------||-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
211           ||  SMART_ACTION_SET_NEXT_WP_ID             || Set Next Waypoint ID           || Waypointid         || NextWaypointid          ||                    ||              || If Waypointid > 0 then it will use the value from Waypointid. If Waypointid <=0 then it will use the StoredWaypointID (see action 210). If NextWaypointid > 0 then it will use StoredWaypointID + value from NextWaypointid
----------------------------------------------------------||-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
212           ||  SMART_ACTION_LOAD_TEMPLATE              || Load SmartAI script            || entry              ||                         ||                    ||              || Loads a existing SmartAI script with given entry
----------------------------------------------------------||-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

